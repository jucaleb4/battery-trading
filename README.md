# How to run
We use config files to setup runs. These can be generated by, e.g.,
```
python script/04_30_2024/exp_0.py --setup --mode validate
```
Here, `--setup` tells the script want to create a config file (located in `settings/04_30_2024`) and the mode determines how many seeds to run and for how long (other modes are `work`, which runs a couple seeds for a short period to ensure the code works; the last mode is `full` which sets up the config file to run multiple seeds for the full druation)

Once the setting is generated, you can either explicitly run it via the command line:
```
python run.py --settings settings/04_30_2024/exp_0/run_0.json
```
or if you want to run multiple files, use the script to run, e.g., config files 0 to 2 (inclusive):
```
python script/04_30_2024/exp_0.py --run --sub_runs 0,2
```

## Log data
The data is stored in a csv file in `logs/` (ignore this folder, since it is just a testing folding before I run it on a cluster) or `iris_logs/`, which is further sorted by dates, experiment id, and run id (e.g., `logs/04_30_2024/exp_0/run_0/`). The meaning behind each run id is shown in pdf files in the `metadata` folder.

Our experiments were run on NERSC's [Iris](https://iris.nersc.gov), so we dedicated a folder for some of those runs in `iris_logs/`.

Each run folder has csv data files, where each csv corresponds to a seed. For example, let's look at `logs/04_30_2024/exp_0/run_0/seed=0.csv`.

The data includes a header, which contains the decomposition of the rewards, state/observation, net load, and action (0 is discharge battery, 1 is null action, and 2 is charge battery).
